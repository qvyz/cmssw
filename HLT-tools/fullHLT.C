/// Name: fullHLT.C
/// Author: Thiago Tomei (SPRACE-Unesp)
/// Date: 2019-04-15
/// Usage: simple macro to run over NANOAODSIM and ask for the OR of all trigger bits.

#include <iostream>
#include "TTree.h"
#include "TCut.h"
#include "TEventList.h"

int fullHLT(TTree* tree, int nEvents) {

    // These strings represent the OR of all "unprescaled", "signal || signal,backup",
    // "enabling at 2.2E34" paths present at the STEAM HLT menu, v3.6.
    // We have to divide them in different TCut objects to run separately -- if we try to
    // make a big string with all the paths ROOT fails to build the TCut object.
    const TCut HLTselection1 = "HLT_AK8PFHT800_TrimMass50 || HLT_AK8PFJet330_TrimMass30_PFAK8BTagDeepCSV_p1 || HLT_AK8PFJet330_TrimMass30_PFAK8BTagDeepCSV_p17 || HLT_AK8PFJet330_TrimMass30_PFAK8BoostedDoubleB_np2 || HLT_AK8PFJet360_TrimMass30 || HLT_AK8PFJet380_TrimMass30 || HLT_AK8PFJet500 || HLT_AK8PFJet550 || HLT_BTagMu_AK8Jet170_DoubleMu5_noalgo || HLT_CaloJet500_NoJetID || HLT_DiJet110_35_Mjj650_PFMET110 || HLT_DiMu4_Ele9_CaloIdL_TrackIdL_DZ_Mass3p8 || HLT_DiMu9_Ele9_CaloIdL_TrackIdL_DZ || HLT_Dimuon0_Jpsi3p5_Muon2 || HLT_Dimuon12_Upsilon_y1p4 || HLT_Dimuon14_Phi_Barrel_Seagulls || HLT_Dimuon18_PsiPrime || HLT_Dimuon18_PsiPrime_noCorrL1 || HLT_Dimuon24_Phi_noCorrL1 || HLT_Dimuon24_Upsilon_noCorrL1 || HLT_Dimuon25_Jpsi || HLT_Dimuon25_Jpsi_noCorrL1 || HLT_Diphoton30PV_18PV_R9Id_AND_IsoCaloId_AND_HE_R9Id_PixelVeto_Mass55 || HLT_Diphoton30_18_R9IdL_AND_HE_AND_IsoCaloId_NoPixelVeto || HLT_Diphoton30_22_R9Id_OR_IsoCaloId_AND_HE_R9Id_Mass90 || HLT_Diphoton30_22_R9Id_OR_IsoCaloId_AND_HE_R9Id_Mass95 || HLT_DoubleEle25_CaloIdL_MW || HLT_DoubleEle33_CaloIdL_MW || HLT_DoubleEle8_CaloIdM_TrackIdM_Mass8_DZ_PFHT350 || HLT_DoubleEle8_CaloIdM_TrackIdM_Mass8_PFHT350 || HLT_DoubleL2Mu23NoVtx_2Cha || HLT_DoubleL2Mu23NoVtx_2Cha_CosmicSeed || HLT_DoubleL2Mu23NoVtx_2Cha_CosmicSeed_NoL2Matched || HLT_DoubleL2Mu23NoVtx_2Cha_NoL2Matched || HLT_DoubleL2Mu25NoVtx_2Cha || HLT_DoubleL2Mu25NoVtx_2Cha_CosmicSeed || HLT_DoubleL2Mu25NoVtx_2Cha_CosmicSeed_Eta2p4 || HLT_DoubleL2Mu25NoVtx_2Cha_Eta2p4 || HLT_DoubleL2Mu30NoVtx_2Cha_CosmicSeed_Eta2p4 || HLT_DoubleL2Mu30NoVtx_2Cha_Eta2p4";
    const TCut HLTselection2 = "HLT_DoubleMediumChargedIsoPFTauHPS35_Trk1_TightID_eta2p1_Reg || HLT_DoubleMediumChargedIsoPFTauHPS35_Trk1_TightID_eta2p1_Reg || HLT_DoubleMediumChargedIsoPFTauHPS35_Trk1_eta2p1_Reg || HLT_DoubleMediumChargedIsoPFTauHPS40_Trk1_TightID_eta2p1_Reg || HLT_DoubleMediumChargedIsoPFTauHPS40_Trk1_TightID_eta2p1_Reg || HLT_DoubleMediumChargedIsoPFTauHPS40_Trk1_eta2p1_Reg || HLT_DoubleMediumChargedIsoPFTauHPS40_Trk1_eta2p1_Reg || HLT_DoubleMu20_7_Mass0to30_Photon23 || HLT_DoubleMu2_Jpsi_DoubleTkMu0_Phi || HLT_DoubleMu2_Jpsi_DoubleTrk1_Phi1p05 || HLT_DoubleMu33NoFiltersNoVtxDisplaced || HLT_DoubleMu3_DCA_PFMET50_PFMHT60 || HLT_DoubleMu3_DZ_PFMET50_PFMHT60 || HLT_DoubleMu3_DZ_PFMET70_PFMHT70 || HLT_DoubleMu3_DZ_PFMET90_PFMHT90 || HLT_DoubleMu3_DoubleEle7p5_CaloIdL_TrackIdL_Upsilon || HLT_DoubleMu3_TkMu_DsTau3Mu || HLT_DoubleMu43NoFiltersNoVtx || HLT_DoubleMu4_3_Bs || HLT_DoubleMu4_JpsiTrkTrk_Displaced || HLT_DoubleMu4_JpsiTrk_Displaced || HLT_DoubleMu4_LowMassNonResonantTrk_Displaced || HLT_DoubleMu4_Mass3p8_DZ_PFHT350 || HLT_DoubleMu4_PsiPrimeTrk_Displaced || HLT_DoubleMu5_Upsilon_DoubleEle3_CaloIdL_TrackIdL || HLT_DoublePFJets116MaxDeta1p6_DoubleCaloBTagDeepCSV_p71 || HLT_DoublePhoton70 || HLT_DoublePhoton85 || HLT_DoubleTightChargedIsoPFTauHPS35_Trk1_TightID_eta2p1_Reg || HLT_DoubleTightChargedIsoPFTauHPS35_Trk1_TightID_eta2p1_Reg || HLT_DoubleTightChargedIsoPFTauHPS35_Trk1_eta2p1_Reg || HLT_DoubleTightChargedIsoPFTauHPS35_Trk1_eta2p1_Reg || HLT_DoubleTightChargedIsoPFTauHPS40_Trk1_TightID_eta2p1_Reg || HLT_DoubleTightChargedIsoPFTauHPS40_Trk1_TightID_eta2p1_Reg || HLT_DoubleTightChargedIsoPFTauHPS40_Trk1_eta2p1_Reg || HLT_DoubleTightChargedIsoPFTauHPS40_Trk1_eta2p1_Reg || HLT_Ele115_CaloIdVT_GsfTrkIdT";
    const TCut HLTselection3 = "HLT_Ele15_IsoVVVL_PFHT450 || HLT_Ele15_IsoVVVL_PFHT450_PFMET50 || HLT_Ele15_IsoVVVL_PFHT600 || HLT_Ele16_Ele12_Ele8_CaloIdL_TrackIdL || HLT_Ele23_Ele12_CaloIdL_TrackIdL_IsoVL_DZ || HLT_Ele24_eta2p1_WPTight_Gsf_LooseChargedIsoPFTauHPS30_eta2p1_CrossL1 || HLT_Ele24_eta2p1_WPTight_Gsf_LooseChargedIsoPFTauHPS30_eta2p1_TightID_CrossL1 || HLT_Ele24_eta2p1_WPTight_Gsf_MediumChargedIsoPFTauHPS30_eta2p1_CrossL1 || HLT_Ele24_eta2p1_WPTight_Gsf_MediumChargedIsoPFTauHPS30_eta2p1_CrossL1 || HLT_Ele24_eta2p1_WPTight_Gsf_MediumChargedIsoPFTauHPS30_eta2p1_TightID_CrossL1 || HLT_Ele24_eta2p1_WPTight_Gsf_MediumChargedIsoPFTauHPS30_eta2p1_TightID_CrossL1 || HLT_Ele24_eta2p1_WPTight_Gsf_TightChargedIsoPFTauHPS30_eta2p1_CrossL1 || HLT_Ele24_eta2p1_WPTight_Gsf_TightChargedIsoPFTauHPS30_eta2p1_CrossL1 || HLT_Ele24_eta2p1_WPTight_Gsf_TightChargedIsoPFTauHPS30_eta2p1_TightID_CrossL1 || HLT_Ele24_eta2p1_WPTight_Gsf_TightChargedIsoPFTauHPS30_eta2p1_TightID_CrossL1 || HLT_Ele27_Ele37_CaloIdL_MW || HLT_Ele28_WPTight_Gsf || HLT_Ele28_eta2p1_WPTight_Gsf_HT150 || HLT_Ele30_eta2p1_WPTight_Gsf_CentralPFJet35_EleCleaned || HLT_Ele32_WPTight_Gsf || HLT_Ele35_WPTight_Gsf || HLT_Ele35_WPTight_Gsf_L1EGMT || HLT_Ele50_CaloIdVT_GsfTrkIdT_PFJet165 || HLT_Ele50_IsoVVVL_PFHT450 || HLT_HT430_DisplacedDijet40_DisplacedTrack || HLT_IsoMu20_eta2p1_LooseChargedIsoPFTauHPS27_eta2p1_CrossL1 || HLT_IsoMu20_eta2p1_LooseChargedIsoPFTauHPS27_eta2p1_TightID_CrossL1 || HLT_IsoMu20_eta2p1_MediumChargedIsoPFTauHPS27_eta2p1_CrossL1 || HLT_IsoMu20_eta2p1_MediumChargedIsoPFTauHPS27_eta2p1_TightID_CrossL1 || HLT_IsoMu20_eta2p1_TightChargedIsoPFTauHPS27_eta2p1_CrossL1 || HLT_IsoMu20_eta2p1_TightChargedIsoPFTauHPS27_eta2p1_TightID_CrossL1 || HLT_IsoMu27 || HLT_MET105_IsoTrk50";
    const TCut HLTselection4 = "HLT_MediumChargedIsoPFTau180HighPtRelaxedIso_Trk50_eta2p1 || HLT_MediumChargedIsoPFTau50_Trk30_eta2p1_1pr_MET100 || HLT_MonoCentralPFJet80_PFMETNoMu120_PFMHTNoMu120_IDTight || HLT_Mu10_TrkIsoVVL_DiPFJet40_DEta3p5_MJJ750_HTT350_PFMETNoMu60 || HLT_Mu12_DoublePFJets40MaxDeta1p6_DoubleCaloBTagDeepCSV_p71 || HLT_Mu12_DoublePhoton20 || HLT_Mu12_TrkIsoVVL_Ele23_CaloIdL_TrackIdL_IsoVL_DZ || HLT_Mu15_IsoVVVL_PFHT450 || HLT_Mu15_IsoVVVL_PFHT600 || HLT_Mu17_Photon30_IsoCaloId || HLT_Mu17_TrkIsoVVL_Mu8_TrkIsoVVL_DZ_Mass3p8 || HLT_Mu17_TrkIsoVVL_Mu8_TrkIsoVVL_DZ_Mass8 || HLT_Mu18_Mu9_SameSign || HLT_Mu18_Mu9_SameSign_DZ || HLT_Mu23_Mu12_SameSign || HLT_Mu23_Mu12_SameSign_DZ || HLT_Mu23_TrkIsoVVL_Ele12_CaloIdL_TrackIdL_IsoVL_DZ || HLT_Mu25_TkMu0_Phi || HLT_Mu27_Ele37_CaloIdL_MW || HLT_Mu30_TkMu0_Psi || HLT_Mu30_TkMu0_Upsilon || HLT_Mu37_Ele27_CaloIdL_MW || HLT_Mu37_TkMu27 || HLT_Mu38NoFiltersNoVtxDisplaced_Photon38_CaloIdL || HLT_Mu3er1p5_PFJet100er2p5_PFMET80_PFMHT80_IDTight || HLT_Mu3er1p5_PFJet100er2p5_PFMETNoMu80_PFMHTNoMu80_IDTight || HLT_Mu43NoFiltersNoVtx_Photon43_CaloIdL || HLT_Mu48NoFiltersNoVtx_Photon48_CaloIdL || HLT_Mu4_TrkIsoVVL_DiPFJet90_40_DEta3p5_MJJ750_HTT300_PFMETNoMu60 || HLT_Mu50 || HLT_Mu50_IsoVVVL_PFHT450 || HLT_Mu8_DiEle12_CaloIdL_TrackIdL_DZ || HLT_Mu8_Ele8_CaloIdM_TrackIdM_Mass8_PFHT350_DZ || HLT_Mu8_TrkIsoVVL_DiPFJet40_DEta3p5_MJJ750_HTT300_PFMETNoMu60 || HLT_Mu8_TrkIsoVVL_Ele23_CaloIdL_TrackIdL_IsoVL_DZ || HLT_Mu8_TrkIsoVVL_Ele23_CaloIdL_TrackIdL_IsoVL_DZ_CaloDiJet30 || HLT_Mu8_TrkIsoVVL_Ele23_CaloIdL_TrackIdL_IsoVL_DZ_CaloDiJet30_CaloBtagDeepCSV_1p5 || HLT_Mu8_TrkIsoVVL_Ele23_CaloIdL_TrackIdL_IsoVL_DZ_PFDiJet30 || HLT_Mu8_TrkIsoVVL_Ele23_CaloIdL_TrackIdL_IsoVL_DZ_PFDiJet30_PFBtagDeepCSV_1p5 || HLT_OldMu100 || HLT_PFHT1050";
    const TCut HLTselection5 = "HLT_PFHT330PT30_QuadPFJet_75_60_45_40_TriplePFBTagDeepCSV_4p5 || HLT_PFHT400_SixPFJet32_DoublePFBTagDeepCSV_2p94 || HLT_PFHT450_SixPFJet36_PFBTagDeepCSV_1p59 || HLT_PFHT500_PFMET100_PFMHT100_IDTight || HLT_PFHT700_PFMET85_PFMHT85_IDTight || HLT_PFHT800_PFMET75_PFMHT75_IDTight || HLT_PFJet500 || HLT_PFJet550 || HLT_PFMET110_PFMHT110_IDTight_CaloBTagDeepCSV_3p1 || HLT_PFMET120_PFMHT120_IDTight || HLT_PFMET200_HBHE_BeamHaloCleaned || HLT_PFMET250_HBHECleaned || HLT_PFMET300_HBHECleaned || HLT_PFMETNoMu120_PFMHTNoMu120_IDTight || HLT_PFMETTypeOne140_PFMHT140_IDTight || HLT_PFMETTypeOne200_HBHE_BeamHaloCleaned || HLT_Photon100EE_TightID_TightIso || HLT_Photon165_R9Id90_HE10_IsoM || HLT_Photon200 || HLT_Photon35_TwoProngs35 || HLT_Photon50_R9Id90_HE10_IsoM_EBOnly_PFJetsMJJ300DEta3_PFMET50 || HLT_Photon60_R9Id90_CaloIdL_IsoL_DisplacedIdL_PFHT350MinPFJet15 || HLT_Photon75_R9Id90_HE10_IsoM_EBOnly_CaloMJJ300_PFJetsMJJ400DEta3 || HLT_Photon75_R9Id90_HE10_IsoM_EBOnly_PFJetsMJJ300DEta3 || HLT_QuadPFJet98_83_71_15_DoublePFBTagDeepCSV_1p3_7p7_VBF1 || HLT_QuadPFJet98_83_71_15_PFBTagDeepCSV_1p3_VBF2 || HLT_Rsq0p35 || HLT_RsqMR300_Rsq0p09_MR200 || HLT_RsqMR300_Rsq0p09_MR200_4jet || HLT_Tau3Mu_Mu7_Mu1_TkMu1_IsoTau15 || HLT_TkMu100 || HLT_Trimuon5_3p5_2_Upsilon_Muon || HLT_TripleJet110_35_35_Mjj650_PFMET110 || HLT_TripleMu_10_5_5_DZ || HLT_TripleMu_12_10_5 || HLT_TripleMu_5_3_3_Mass3p8_DCA || HLT_TripleMu_5_3_3_Mass3p8_DZ || HLT_TriplePhoton_20_20_20_CaloIdLV2 || HLT_TriplePhoton_20_20_20_CaloIdLV2_R9IdVL || HLT_TriplePhoton_30_30_10_CaloIdLV2 || HLT_TriplePhoton_30_30_10_CaloIdLV2_R9IdVL || HLT_TriplePhoton_35_35_5_CaloIdLV2_R9IdVL || HLT_TrkMu16_DoubleTrkMu6NoFiltersNoVtx || HLT_VBF_DoubleLooseChargedIsoPFTauHPS20_Trk1_eta2p1 || HLT_VBF_DoubleMediumChargedIsoPFTauHPS20_Trk1_eta2p1 || HLT_VBF_DoubleTightChargedIsoPFTauHPS20_Trk1_eta2p1";

    TEventList* list1 = new TEventList("elist1");
    TEventList* list2 = new TEventList("elist2");
    TEventList* list3 = new TEventList("elist3");
    TEventList* list4 = new TEventList("elist4");
    TEventList* list5 = new TEventList("elist5");
    int selected = tree->Draw(">>elist1",HLTselection1,"",nEvents,0);
    selected = tree->Draw(">>elist2",HLTselection2,"",nEvents,0);
    selected = tree->Draw(">>elist3",HLTselection3,"",nEvents,0);
    selected = tree->Draw(">>elist4",HLTselection4,"",nEvents,0);
    selected = tree->Draw(">>elist5",HLTselection5,"",nEvents,0);
    list1->Add(list2);
    list1->Add(list3);
    list1->Add(list4);
    list1->Add(list5);
    return list1->GetN();
}
